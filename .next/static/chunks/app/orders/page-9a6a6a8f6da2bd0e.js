(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1569],{10422:function(e,t,a){Promise.resolve().then(a.bind(a,74274))},74274:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(57437),l=a(2265),n=a(83464),i=a(49147),r=a(27648);function c(){let[e,t]=(0,l.useState)([]),[a,c]=(0,l.useState)(!0),[d,h]=(0,l.useState)(null),[o,u]=(0,l.useState)(1),[x,j]=(0,l.useState)(5),[m,g]=(0,l.useState)("");if((0,l.useEffect)(()=>{(async()=>{try{let e=await n.Z.get("http://localhost:3000/api/myOrders",{withCredentials:!0});console.log(e),t(e.data.data)}catch(e){console.log("error fetching",e),h(e.message)}finally{c(!1)}})()},[]),a)return(0,s.jsx)("div",{className:"w-100 h-100 d-flex justify-content-center align-items-center",children:(0,s.jsx)("div",{className:"spinner-border text-primary mt-5",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});if(d)return(0,s.jsxs)("p",{children:["Error: ",d]});let p=e.filter(e=>e._id.toLowerCase().includes(m.toLowerCase())||e.orderStatus.toLowerCase().includes(m.toLowerCase())||e.totalAmount.toString().includes(m)),f=o*x,N=p.slice(f-x,f),v=e=>u(e);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.default,{headerStyle:1,footerStyle:1,children:(0,s.jsxs)("div",{style:{marginTop:"100px"},className:"d-flex justify-content-center flex-column align-items-center text-center",children:[(0,s.jsx)("h1",{className:"text-white",children:"Orders"}),(0,s.jsxs)("div",{style:{gap:"10px"},className:"d-flex justify-content-between w-100 align-items-center container",children:[(0,s.jsx)("input",{type:"text",style:{maxWidth:"200px",width:"100%"},className:"form-control mb-4",placeholder:"Search",value:m,onChange:e=>g(e.target.value)}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("select",{id:"itemsPerPage",className:"form-select",value:x,onChange:e=>{j(Number(e.target.value)),u(1)},children:[(0,s.jsx)("option",{value:5,children:"5"}),(0,s.jsx)("option",{value:10,children:"10"}),(0,s.jsx)("option",{value:15,children:"15"}),(0,s.jsx)("option",{value:20,children:"20"})]})})]}),0===p.length?(0,s.jsx)("p",{children:"No orders found."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{overflow:"auto",width:"100%"},className:"container",children:(0,s.jsxs)("table",{className:"table text-white",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Order ID"}),(0,s.jsx)("th",{children:"Order Date"}),(0,s.jsx)("th",{children:"Amount"}),(0,s.jsx)("th",{children:"Order Status"}),(0,s.jsx)("th",{children:"Action"})]})}),(0,s.jsx)("tbody",{children:N.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e._id.slice(-6)}),(0,s.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsx)("td",{children:e.totalAmount}),(0,s.jsx)("td",{children:e.orderStatus}),(0,s.jsx)("td",{children:(0,s.jsx)(r.default,{href:"/orders/".concat(e._id),className:"btn btn-primary",children:"View"})})]},e._id))})]})}),(0,s.jsx)("nav",{"aria-label":"Page navigation example",children:(0,s.jsxs)("ul",{className:"pagination",children:[(0,s.jsx)("li",{className:"page-item ".concat(1===o?"disabled":""),children:(0,s.jsx)("button",{className:"page-link",style:{height:"auto"},"aria-label":"Previous",onClick:()=>{o>1&&u(o-1)},children:(0,s.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),Array.from({length:Math.ceil(p.length/x)},(e,t)=>(0,s.jsx)("li",{className:"page-item ".concat(o===t+1?"active":""),children:(0,s.jsx)("button",{className:"page-link",href:"#",style:{height:"auto"},onClick:()=>v(t+1),children:t+1})},t)),(0,s.jsx)("li",{className:"page-item ".concat(o===Math.ceil(p.length/x)?"disabled":""),children:(0,s.jsx)("button",{className:"page-link","aria-label":"Next",style:{height:"auto"},onClick:()=>{o<Math.ceil(p.length/x)&&u(o+1)},children:(0,s.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})]})]})})})}}},function(e){e.O(0,[3395,3464,9147,2971,2117,1744],function(){return e(e.s=10422)}),_N_E=e.O()}]);